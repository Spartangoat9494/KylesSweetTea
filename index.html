<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Matrix Dictionary Attack Demo</title>
<style>
:root{
  --card-bg: rgba(0,0,0,0.85);
  --accent: #00ff00;
  --muted: #0f0;
  font-family: "Segoe UI", Roboto, system-ui, -apple-system, "Helvetica Neue", Arial;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;overflow:hidden;background:black;color:var(--accent);}
body{display:flex;align-items:center;justify-content:center;padding:20px;}
canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;display:block;}

/* Card */
.card{
  position:relative;
  z-index:5;
  background: var(--card-bg);
  border-radius:14px;
  padding:40px 50px;
  box-shadow: 0 10px 30px rgba(0,255,0,0.15);
  width:min(900px,96vw);
  max-height:calc(100vh - 40px);
  display:flex;
  flex-direction:column;
  align-items:center;
  overflow:auto;
}

header.topstrip h1{
  margin:0;
  font-size:32px;
  color:var(--accent);
  font-weight:700;
  margin-bottom:30px;
  text-align:center;
  text-shadow:0 0 12px #00ff00;
}

/* Inputs row */
.input-row{
  display:flex;
  gap:12px;
  justify-content:center;
  margin-top:12px;
  flex-wrap:wrap;
}

input[type="text"]{
  padding:16px;
  font-size:18px;
  border-radius:12px;
  border:1px solid rgba(0,255,0,0.25);
  background:rgba(0,0,0,0.3);
  color:#0f0;
  text-align:center;
  flex:1;
  min-width:220px;
}

/* Buttons */
button{
  padding:15px;
  font-size:18px;
  border-radius:12px;
  background: linear-gradient(180deg,#003300,#001a00);
  color: var(--accent);
  font-weight: 700;
  cursor: pointer;
  box-shadow:0 0 12px #00ff00, 0 0 20px #00ff00;
  transition: box-shadow 0.2s ease;
}
button:hover{box-shadow:0 0 18px #00ff00,0 0 32px #00ff00;}

/* Progress bar */
.progress-wrap{
  height:35px;
  width:100%;
  background: rgba(0,0,0,0.4);
  border-radius: 17px;
  overflow:hidden;
  margin-top:20px;
  border: 2px solid rgba(0,255,0,0.3);
}
.progress-bar{
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#00ff00,#00aa00);
  transition:width 0.18s linear;
  border-radius:17px;
  box-shadow:0 0 12px #00ff00 inset;
}

/* Popup overlay */
.popup {
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:20;
  pointer-events:none;
  opacity:0;
  transform:scale(0.9);
  transition:opacity 220ms ease, transform 220ms ease;
}
.popup.show {
  pointer-events:auto;
  opacity:1;
  transform:scale(1);
}
.popup-card {
  background: rgba(0,0,0,0.85);
  border: 2px solid rgba(0,255,0,0.22);
  padding:40px 50px;
  border-radius:14px;
  text-align:center;
  box-shadow: 0 20px 60px rgba(0,255,0,0.4);
  display:flex;
  flex-direction:column;
  gap:12px;
  align-items:center;
}
.popup-card h2{
  margin:0;
  font-size:64px;
  line-height:1;
  letter-spacing:2px;
  color:#00ff00;
  text-shadow:0 0 24px #00ff00;
}
.popup-card h2.notfound{
  color:#ff4d4d;
  text-shadow:0 0 24px #ff4d4d;
}
.popup-card p{margin:0;color:var(--muted);font-size:20px}
.pulse {animation: pulseGlow 1200ms ease-in-out infinite;}
@keyframes pulseGlow {
  0% { filter:drop-shadow(0 0 6px rgba(0,255,0,0.12)); transform:translateY(0);}
  50%{ filter:drop-shadow(0 0 28px rgba(0,255,0,0.28)); transform:translateY(-6px);}
  100%{ filter:drop-shadow(0 0 6px rgba(0,255,0,0.12)); transform:translateY(0);}
}

/* Hidden file input and Bitwarden button */
#fileInput, #bitwardenBtn {
  position: fixed;
  width: 40px;
  height: 28px;
  opacity: 0.3;
  font-size: 10px;
  padding: 2px;
  border-radius: 6px;
  background: rgba(0, 0, 0, 0.5);
  color: #0f0;
  cursor: pointer;
  z-index: 15;
  transition: opacity 0.2s ease;
}
#fileInput { bottom: 12px; right: 12px; }
#bitwardenBtn { bottom: 12px; left: 12px; }
#fileInput:hover, #bitwardenBtn:hover { opacity: 0.6; }
</style>
</head>
<body>
<canvas id="matrix"></canvas>

<main class="card" role="main" aria-labelledby="title">
  <header class="topstrip">
    <h1 id="title">Matrix Dictionary Attack Demo</h1>
    <p>Please do not enter your real credentials</p>
  </header>

  <div class="input-row">
    <input id="testPw" type="text" placeholder="Enter password" />
    <button id="checkNow">Check Now</button>
  </div>

  <div class="progress-wrap"><div id="progressBar" class="progress-bar"></div></div>
</main>

<!-- Hidden file input -->
<input id="fileInput" type="file" accept=".txt" />
<!-- Hidden Bitwarden button -->
<button id="bitwardenBtn">Check Strength</button>

<div id="popup" class="popup" role="dialog" aria-live="assertive" aria-hidden="true">
  <div class="popup-card" id="popupCard">
    <h2 id="popupTitle" class="pulse">FOUND</h2>
    <p id="popupMsg">The password was found in the list.</p>
  </div>
</div>

<script>
// MATRIX BACKGROUND
const canvas = document.getElementById('matrix');
const ctx = canvas.getContext('2d');
let width = canvas.width = window.innerWidth;
let height = canvas.height = window.innerHeight;
const fontSize = 16;
let columns = Math.floor(width / fontSize);
let drops = Array(columns).fill(1);

function drawMatrix() {
  ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
  ctx.fillRect(0, 0, width, height);
  ctx.fillStyle = '#0f0';
  ctx.font = fontSize + "px monospace";
  for (let i = 0; i < drops.length; i++) {
    const text = Math.floor(Math.random() * 10);
    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
    if (drops[i] * fontSize > height && Math.random() > 0.975) drops[i] = 0;
    drops[i]++;
  }
  requestAnimationFrame(drawMatrix);
}
drawMatrix();
window.addEventListener('resize', () => {
  width = canvas.width = window.innerWidth;
  height = canvas.height = window.innerHeight;
  columns = Math.floor(width / fontSize);
  drops = Array(columns).fill(1);
});

// PASSWORD LOGIC
let pwSet = new Set();
const fileInput = document.getElementById("fileInput");
const checkNow = document.getElementById("checkNow");
const testPw = document.getElementById("testPw");
const progressBar = document.getElementById("progressBar");

const popup = document.getElementById("popup");
const popupTitle = document.getElementById("popupTitle");
const popupMsg = document.getElementById("popupMsg");

function showPopup(found) {
  if (found) {
    popupTitle.textContent = "PASSWORD FOUND";
    popupTitle.classList.remove('notfound');
    popupTitle.classList.add('pulse');
    popupTitle.style.color = "#00ff00";
    popupMsg.textContent = "The password was found in the list of the 30 million most commonly used passwords.";
  } else {
    popupTitle.textContent = "NOT FOUND";
    popupTitle.classList.add('notfound');
    popupTitle.classList.remove('pulse');
    popupTitle.style.color = "#ff4d4d";
    popupMsg.textContent = "The password was NOT found in the list.";
  }
  popup.setAttribute('aria-hidden','false');
  popup.classList.add('show');
  setTimeout(() => {
    popup.classList.remove('show');
    popup.setAttribute('aria-hidden','true');
  },3000);
}

// Load password list from file
fileInput.addEventListener("change", async e => {
  const file = e.target.files[0];
  if(!file) return;
  pwSet = new Set();
  const text = await file.text();
  text.split(/\r?\n/).forEach(line => { if(line.trim()) pwSet.add(line.trim()); });
});

// Check password
checkNow.addEventListener("click", ()=>{
  const pw = testPw.value.trim();
  if(!pw) return;
  progressBar.style.width="0%";
  let progress=0;
  const tickMs=100; // 20s approx
  const interval=setInterval(()=>{
    progress++;
    progressBar.style.width=progress+"%";
    if(progress>=100){
      clearInterval(interval);
      const found = pwSet.has(pw);
      showPopup(found);
    }
  },tickMs);
});

// Bitwarden password strength button
const bitwardenBtn = document.getElementById("bitwardenBtn");
bitwardenBtn.addEventListener("click", () => {
  window.open("https://bitwarden.com/password-strength/", "_blank");
});
</script>
</body>
</html>



